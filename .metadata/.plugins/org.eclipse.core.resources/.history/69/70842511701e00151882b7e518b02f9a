/*
 * External_EEPROM_I2C.c
 *
 * Created: 3/12/2014 12:05:19 PM
 *  Author: Mohamed Tarek
 */
 

#include"External_EEPROM.h"
#include "std_types.h"
#include "micro_config.h"
#include "common_macros.h"
#include <util/delay.h>

int main(void)
{
	uint8 i,*address,passwd[10]={0,1,2,3,4,5,6},val = 0;

	DDRD  = 0xFF;
	PORTD = 0x00;

	// Init EEPROM
	LCD_init();
	EEPROM_Init();

	while(1)
	{

		EEPROM_Write_Byte(0x0311, 0x01); // Write 0x0F in the external EEPROM
		_delay_ms(10);
		EEPROM_Read_Byte(0x0311, &val); // Read 0x0F from the external EEPROM

		LCD_clearScreen();
		LCD_displayCharacter('0'+passwd[1]);

		_delay_ms(1000);

//a=sizeof(passwd);
		address = 0x0312;

				for (i=0;i<=sizeof(passwd);i++){
					EEPROM_Write_Byte(address++, passwd[i]);
					_delay_ms(10);
				}


	}
	return 0;
}
